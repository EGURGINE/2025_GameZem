# 게임 타이머 및 순위 시스템 사용법

## 📋 개요
이 시스템은 게임 시작부터 종료까지의 시간을 측정하고, 가장 빠른 시간 순으로 순위를 기록하는 기능을 제공합니다.

## 🎮 주요 기능
- **터치로 게임 시작/종료**: 화면 터치로 게임을 시작하고 종료할 수 있습니다
- **실시간 시간 측정**: 0초부터 초 단위로 정확한 시간 측정
- **자동 순위 정렬**: 게임 종료 시 자동으로 시간 순으로 정렬 (빠른 시간이 1위)
- **기록 저장**: 게임 기록이 자동으로 저장되어 앱을 재시작해도 유지됩니다
- **UI 연동**: 시간 표시와 순위표를 UI에 표시할 수 있습니다

## 📁 파일 구성
1. **TestScore.cs** - 메인 타이머 및 순위 관리 시스템
2. **TouchInputHandler.cs** - 터치 입력 처리
3. **GameUI.cs** - UI 연동 및 표시

## 🚀 설정 방법

### 1. 기본 설정
1. 빈 GameObject를 생성하고 `TestScore` 스크립트를 추가합니다
2. 다른 빈 GameObject를 생성하고 `TouchInputHandler` 스크립트를 추가합니다
3. UI Canvas를 생성하고 `GameUI` 스크립트를 추가합니다

### 2. UI 설정 (선택사항)
Canvas에 다음 UI 요소들을 추가하고 GameUI 스크립트의 해당 필드에 연결합니다:
- **Text (시간 표시)**: 현재 게임 시간을 표시
- **Text (순위 표시)**: 순위표를 표시
- **Button (시작)**: 게임 시작 버튼
- **Button (종료)**: 게임 종료 버튼
- **Button (기록 삭제)**: 모든 기록 삭제 버튼

## 🎯 사용 방법

### 기본 사용법
```csharp
// 게임 시작
TestScore.Instance.StartGame();

// 게임 종료
TestScore.Instance.EndGame();

// 현재 게임 시간 확인
float currentTime = TestScore.Instance.GetCurrentGameTime();

// 최고 기록 확인
float bestTime = TestScore.Instance.GetBestTime();
```

### 터치 입력 사용법
- **터치로 시작**: 화면을 터치하면 게임이 시작됩니다
- **터치로 종료**: 게임 진행 중에 화면을 터치하면 게임이 종료됩니다
- **에디터 테스트**: 마우스 클릭으로도 동일하게 작동합니다

## ⚙️ 설정 옵션

### TestScore 설정
- `maxRecordsToKeep`: 보관할 최대 기록 수 (기본값: 10)
- `timeDisplayText`: 시간 표시용 UI 텍스트
- `rankingDisplayText`: 순위 표시용 UI 텍스트

### TouchInputHandler 설정
- `enableTouchToStart`: 터치로 게임 시작 가능 여부
- `enableTouchToEnd`: 터치로 게임 종료 가능 여부
- `showDebugLogs`: 디버그 로그 표시 여부

## 📊 순위 시스템
- 게임 종료 시 자동으로 기록이 저장됩니다
- 시간이 짧을수록 높은 순위를 가집니다
- 최대 10개의 기록을 보관합니다 (설정 가능)
- 기록에는 시간과 날짜/시간이 함께 저장됩니다

## 💾 데이터 저장
- 모든 기록은 `PlayerPrefs`를 사용하여 저장됩니다
- 앱을 재시작해도 기록이 유지됩니다
- `ClearAllRecords()` 메서드로 모든 기록을 삭제할 수 있습니다

## 🔧 추가 기능
- 싱글톤 패턴으로 어디서든 접근 가능
- DontDestroyOnLoad로 씬 전환 시에도 유지
- JSON 직렬화를 통한 안전한 데이터 저장
- 상세한 디버그 로그 제공

## 🎨 UI 예시
순위표는 다음과 같은 형태로 표시됩니다:
```
🏆 순위표

🥇 1위: 15.23초
   📅 2024-01-15 14:30:25

🥈 2위: 18.45초
   📅 2024-01-15 14:32:10

🥉 3위: 22.67초
   📅 2024-01-15 14:35:20
```

## 🐛 문제 해결
- **TestScore 인스턴스가 없다는 오류**: TestScore 스크립트가 GameObject에 추가되어 있는지 확인하세요
- **터치가 작동하지 않음**: TouchInputHandler 스크립트가 씬에 있는지 확인하세요
- **UI가 업데이트되지 않음**: GameUI 스크립트의 UI 참조가 올바르게 설정되었는지 확인하세요

## 📝 주의사항
- 이 시스템은 시간이 짧을수록 좋은 기록으로 간주합니다
- 기록은 자동으로 정렬되므로 별도의 정렬 작업이 필요하지 않습니다
- UI 요소들은 선택사항이며, 코드만으로도 모든 기능을 사용할 수 있습니다
